(function(t){function e(e){for(var r,s,i=e[0],c=e[1],u=e[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},o={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"020d":function(t,e,n){},"0d17":function(t,e,n){"use strict";var r=n("29f8"),o=n.n(r);o.a},"0ee6":function(t,e,n){},"0f16":function(t,e,n){"use strict";var r=n("356d"),o=n.n(r);o.a},"12ef":function(t,e,n){},1841:function(t,e,n){},"18b8":function(t,e,n){},2151:function(t,e,n){"use strict";var r=n("5cd4"),o=n.n(r);o.a},2353:function(t,e,n){},2535:function(t,e,n){},"267c":function(t,e,n){"use strict";var r=n("2353"),o=n.n(r);o.a},"29f8":function(t,e,n){},"34af":function(t,e,n){},"356d":function(t,e,n){},"3bb8":function(t,e,n){"use strict";var r=n("af49"),o=n.n(r);o.a},"452d":function(t,e,n){},4869:function(t,e,n){"use strict";var r=n("93a7"),o=n.n(r);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("a026"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._l(t.toasts,(function(t,e){return n("toast",{key:e,attrs:{title:t.title,message:t.message,show:t.show,timestamp:t.timestamp}})})),n("navigation-bar"),n("router-view")],2)},a=[],s=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("bd86")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navigation-bar",class:{open:t.open}},[n("div",{staticClass:"container"},[t._m(0),n("ul",{staticClass:"links margin-top-xs-40"},[t.token?t._e():n("router-link",{attrs:{to:{path:"/most-popular"},tag:"li"}},[n("a",{on:{click:function(e){t.open=!1}}},[n("span",{staticClass:"dripicons-star"}),t._v(" MOST POPULAR\n          ")])]),t.token?n("router-link",{attrs:{to:{path:"/movie-collection"},tag:"li"}},[n("a",[n("span",{staticClass:"dripicons-camcorder"}),t._v(" MOVIE COLLECTION\n          ")])]):t._e(),t.token?n("router-link",{attrs:{to:{path:"/watched-shows"},tag:"li"}},[n("a",[n("span",{staticClass:"dripicons-preview"}),t._v(" WATCHED SHOWS\n          ")])]):t._e(),t.token?n("router-link",{attrs:{to:{path:"/watching"},tag:"li"}},[n("a",[n("span",{staticClass:"dripicons-preview"}),t._v(" WATCHING\n          ")])]):t._e(),t.token?n("router-link",{attrs:{to:{path:"/show-collection"},tag:"li"}},[n("a",[n("span",{staticClass:"dripicons-monitor"}),t._v("SHOW COLLECTION\n          ")])]):t._e()],1)]),n("ul",{staticClass:"links auth"},[t.token?t._e():n("router-link",{attrs:{to:{path:"/login"},tag:"li"}},[n("a",[t._v("SIGNIN")])]),t.token?n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("SIGNOUT")]):t._e()],1)]),n("button",{staticClass:"navigation-button",attrs:{type:"button",name:"button"},on:{click:t.toggleOpen}},[n("span",{staticClass:"dripicons-menu"})]),n("div",{staticClass:"navigation-underlay",class:{open:t.open},on:{click:t.toggleOpen}})])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"brand"},[n("strong",[t._v("toWatch")])])}],u=n("2f62");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"NavigationBar",data:function(){return{open:!1,dropdown:!1}},computed:p({},Object(u["b"])({token:"auth/token"})),beforeMount:function(){this.$store.dispatch("auth/getCurrentUser")},methods:{toggleOpen:function(){this.open=!this.open},logout:function(){this.$store.dispatch("auth/signUserOut")}}},h=d,m=(n("c60f"),n("2877")),f=Object(m["a"])(h,i,c,!1,null,null,null),v=f.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast",class:{show:t.show}},[n("h5",[t._v(t._s(t.title))]),n("p",[t._v(t._s(t.message))])])},w=[],g={name:"Toast",props:{title:String,message:String,show:Boolean},methods:{dismiss:function(){this.$store.dispatch("toastDismiss")}}},O=g,y=(n("6802"),Object(m["a"])(O,b,w,!1,null,null,null)),_=y.exports;function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S={name:"app",computed:C({},Object(u["b"])(["toasts"])),components:{NavigationBar:v,Toast:_}},P=S,k=(n("c108"),Object(m["a"])(P,o,a,!1,null,null,null)),x=k.exports,E=(n("759f"),n("8c4f")),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid fade-in"},[n("div",{staticClass:"row show-layout"},t._l(t.limit(t.shows,18),(function(t){return n("div",{key:t.id,staticClass:"col-xs-6 col-sm-3 col-md-2"},[n("show-card",{attrs:{heading:t.name,"img-src":t.image_thumbnail_path,deleteable:!1}})],1)})),0)])},D=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("popup",{ref:"confirmPopup",attrs:{title:"Confirm",size:"md"}},[n("h4",{staticClass:"margin-top-0 margin-bottom-30"},[t._v("Are you sure you want to delete this show?")]),n("button",{staticClass:"button button-sm red pull-left",attrs:{type:"button"},on:{click:function(e){return t.$refs.confirmPopup.close("cancel")}}},[t._v("Cancel\n    ")]),n("button",{staticClass:"button button-sm pull-right",attrs:{type:"button"},on:{click:function(e){return t.$refs.confirmPopup.close("yes")}}},[t._v("Yes\n    ")])]),n("div",{staticClass:"show-card",class:{deleteable:t.deleteable},style:{"background-image":"url("+t.imgSrc+")"},attrs:{tabindex:"0"}},[n("button",{staticClass:"icon-button red dripicons-trash",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.confirmDelete()}}}),n("button",{staticClass:"icon-button dripicons-plus",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.onAddToWatchlist()}}}),n("button",{staticClass:"icon-button dripicons-clockwise",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.update()}}}),n("h2",[t._v(t._s(t.heading))])])],1)},R=[],$=(n("96cf"),n("3b8d")),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup-background",class:{open:t.popupOpen},on:{click:function(e){return t.close("dismiss")}}},[n("div",{staticClass:"popup-content",on:{click:function(t){t.stopPropagation()}}},[n("h4",{staticClass:"popup-title"},[t._v(t._s(t.title))]),n("button",{staticClass:"close-button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.close("dismiss")}}},[n("span",{staticClass:"dripicons-cross"})]),n("div",{staticClass:"popup-container"},[t._t("default")],2)])])},N=[],M={name:"Popup",data:function(){return{popupOpen:!1}},props:{title:String,size:String},methods:{open:function(){var t=this;return this.popupOpen=!0,new Promise((function(e){t.close=function(n){t.popupOpen=!1,e(n)}}))}}},A=M,G=(n("8160"),Object(m["a"])(A,W,N,!1,null,null,null)),B=G.exports,L={name:"ShowCard",data:function(){return{deleteOpen:!1,deleteFromWatched:!1}},props:{heading:String,imgSrc:String,id:String,showId:String,data:Object,deleteable:Boolean},methods:{update:function(){this.$store.dispatch("shows/updateShow",{showId:this.showId,imdbId:this.data.imdbId})},onAddToWatchlist:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$parent.$refs.addToWatchlist.form={showId:this.showId,episode:"",season:""},t.next=3,this.$store.dispatch("lookups/getSeasons",this.showId);case 3:this.$parent.$refs.popup.open();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),confirmDelete:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirmPopup.open();case 2:if(e=t.sent,"yes"!=e){t.next=6;break}return t.next=6,this.$store.dispatch("showCollection/deleteFromShowCollection",{id:this.id});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},components:{Popup:B}},U=L,F=(n("f82b"),Object(m["a"])(U,I,R,!1,null,null,null)),H=F.exports;function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var z={name:"MostPopular",computed:q({},Object(u["c"])({shows:function(t){var e=t.mostPopular;return e.shows}})),mounted:function(){this.$store.dispatch("mostPopular/getMostPopularShows")},methods:{limit:function(t,e){return t.slice(0,e)}},components:{ShowCard:H}},V=z,J=Object(m["a"])(V,T,D,!1,null,null,null),X=J.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"col-md-offset-4 col-md-4"},[n("card",[n("h2",[t._v("Sign in")]),n("form",{attrs:{name:"signinForm",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onLogin(e)}}},[n("div",{staticClass:"form-element dark"},[n("label",{attrs:{for:"email"}},[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{name:"email",type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",{staticClass:"form-element dark"},[n("label",{attrs:{for:"password"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{name:"password",type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticClass:"form-element"},[n("button",{staticClass:"button pull-right",attrs:{type:"submit"}},[t._v("Sign in")])])])])],1)])},Q=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[t._t("default")],2)},tt=[],et={name:"Card"},nt=et,rt=(n("570c"),Object(m["a"])(nt,Z,tt,!1,null,null,null)),ot=rt.exports,at={name:"Login",data:function(){return{email:"",password:""}},mounted:function(){this.getToken()&&this.$router.push("my-shows")},methods:{onLogin:function(){this.$store.dispatch("auth/signUserIn",{email:this.email,password:this.password})},getToken:function(){var t=localStorage.getItem("token");return t&&"null"!=t?t:null}},components:{Card:ot}},st=at,it=(n("de24"),Object(m["a"])(st,K,Q,!1,null,"3598b6a1",null)),ct=it.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("popup",{ref:"popup",attrs:{title:"Add To Watch List",size:"md"}},[n("add-to-watchlist",{ref:"addToWatchlist",attrs:{shows:t.collection,"hide-series-select":!0}})],1),n("div",{staticClass:"container"},[n("div",{staticClass:"row margin-bottom-20"},[n("div",{staticClass:"col-xs-12"},[n("search-shows")],1)])]),n("div",{staticClass:"container-fluid fade-in"},[n("div",{staticClass:"row show-layout"},[t._l(t.collection,(function(t){return n("div",{key:t._id,staticClass:"col-xs-6 col-sm-3 col-md-2"},[n("show-card",{attrs:{heading:t.show.title,"img-src":t.show.poster,id:t._id,"show-id":t.show._id,data:t.show,deleteable:!0}})],1)})),n("no-content",{attrs:{message:"Your show collection is empty!",condition:!t.collection.length}})],2)])],1)},lt=[],pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.findShow(e)}}},[n("div",{staticClass:"form-element search dark"},[t.foundShows.length?n("button",{staticClass:"dripicons-cross",attrs:{type:"button"},on:{click:t.empty}}):t._e(),n("div",{staticClass:"loader",class:{show:t.sendStatus.loader}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.showName,expression:"form.showName"}],staticClass:"show-search",attrs:{type:"text",name:"showName"},domProps:{value:t.form.showName},on:{input:function(e){e.target.composing||t.$set(t.form,"showName",e.target.value)}}}),n("button",{staticClass:"dripicons-search",attrs:{type:"submit",disabled:t.sendStatus.disableButton}}),n("div",{staticClass:"search-results",class:{show:t.foundShows}},t._l(t.foundShows,(function(e,r){return n("search-result-item",{key:r,attrs:{poster:e.Poster,title:e.Title,year:e.Year,disabled:t.sendStatus.disableButton},on:{click:function(n){return t.addSeries(e)}}})})),1)])])},dt=[],ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-result-item"},[n("div",{staticClass:"item img"},[n("div",{staticClass:"image",style:{"background-image":"url("+t.poster+")"}})]),n("div",{staticClass:"item name"},[n("h4",{staticClass:"margin-top-0 margin-bottom-0"},[t._v(t._s(t.title))]),n("small",[t._v(t._s(t.year))]),t.plot?n("p",{staticClass:"margin-top-10 margin-bottom-0"},[t._v(t._s(t.plot))]):t._e(),n("div",{staticClass:"margin-top-10 text-right"},[n("button",{staticClass:"button",attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._v("Add to Collection\n      ")])])])])},mt=[],ft={name:"SearchResultItem",props:{poster:String,title:String,plot:String,year:String,disabled:Boolean}},vt=ft,bt=(n("4869"),Object(m["a"])(vt,ht,mt,!1,null,null,null)),wt=bt.exports;function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var yt={name:"SearchShows",data:function(){return{form:{showName:""},sendStatus:{disableButton:!1,loader:!1,validation:""},toast:{content:"",action:"",show:!1}}},computed:Ot({},Object(u["c"])({foundShows:function(t){var e=t.shows;return e.foundShows}})),methods:{addSeries:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.sendStatus.loader=!0,this.sendStatus.disableButton=!0,t.next=4,this.$store.dispatch("showCollection/saveToShowCollection",e);case 4:this.sendStatus.loader=!1,this.sendStatus.disableButton=!1,this.form.showName="",this.$store.dispatch("shows/emptyFoundShows");case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setType:function(t){this.type=t},findShow:function(){this.$store.dispatch("shows/searchForShow",this.form)},empty:function(){this.$store.dispatch("shows/emptyFoundShows")}},components:{SearchResultItem:wt}},_t=yt,jt=(n("0d17"),Object(m["a"])(_t,pt,dt,!1,null,null,null)),Ct=jt.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-content",class:{show:t.condition}},[n("h1",[t._v(t._s(t.message))])])},Pt=[],kt={name:"NoContent",props:{message:String,condition:Boolean}},xt=kt,Et=(n("5f8e"),Object(m["a"])(xt,St,Pt,!1,null,null,null)),Tt=Et.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{name:"form"},on:{submit:function(e){return e.preventDefault(),t.add(t.form)}}},[t.hideSeriesSelect&&t.form.showId?n("div",{staticClass:"form-element"},[n("label",{attrs:{for:"series"}},[t._v("Series Name")]),t._v("\n    "+t._s(t.findShow(t.form.showId).show.title)+"\n  ")]):t._e(),t.hideSeriesSelect?t._e():n("div",{staticClass:"form-element"},[n("label",{attrs:{for:"series"}},[t._v("Series Name")]),n("span",{staticClass:"dripicons-chevron-down"}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.showId,expression:"form.showId"}],attrs:{name:"series"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"showId",e.target.multiple?n:n[0])},t.onChooseShow]}},t._l(t.shows,(function(e){return n("option",{key:e._id,domProps:{value:e.show._id}},[t._v("\n          "+t._s(e.show.title)+"\n        ")])})),0)]),t.form.showId?n("div",{staticClass:"form-element"},[n("label",{attrs:{for:"seasons"}},[t._v("Seasons")]),n("div",{staticClass:"select-series"},[t._l(t.seasons,(function(e){return n("div",{key:e._id,staticClass:"col-xs-3"},[n("label",{staticClass:"radio",class:{selected:t.form.seasonId==e._id}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.seasonId,expression:"form.seasonId"}],attrs:{type:"radio"},domProps:{value:e._id,checked:t._q(t.form.seasonId,e._id)},on:{change:[function(n){return t.$set(t.form,"seasonId",e._id)},t.onChooseSeason]}}),t._v(t._s(e.number)+"\n          ")])])})),n("span",{staticClass:"selected-none",class:{selected:!t.form.showId}},[t._v("Select a season")])],2)]):t._e(),t.form.showId&&t.form.seasonId?n("div",{staticClass:"form-element"},[n("label",{attrs:{for:"seasons"}},[t._v("Episodes")]),n("div",{staticClass:"select-series"},[t._l(t.episodes,(function(e){return n("div",{key:e._id,staticClass:"col-xs-3"},[n("label",{staticClass:"radio",class:{selected:t.form.episodeId==e._id}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.episodeId,expression:"form.episodeId"}],attrs:{type:"radio"},domProps:{value:e._id,checked:t._q(t.form.episodeId,e._id)},on:{change:function(n){return t.$set(t.form,"episodeId",e._id)}}}),t._v(t._s(e.number)+"\n          ")])])})),n("span",{staticClass:"selected-none",class:{selected:!t.form.seasonId}},[t._v("Select a episode")])],2)]):t._e(),n("button",{staticClass:"button pull-right",attrs:{type:"submit",disabled:!t.form.showId||!t.form.seasonId||!t.form.episodeId}},[t._v("\n    add\n  ")])])},It=[],Rt=(n("7514"),n("7618"));function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Nt={name:"AddToWatchlist",data:function(){return{form:{showId:"",seasonId:"",episodeId:""},today:(new Date).getTime()}},props:{shows:Array,hideSeriesSelect:Boolean},computed:Wt({},Object(u["c"])({episodes:function(t){var e=t.lookups;return e.episodes},seasons:function(t){var e=t.lookups;return e.seasons}})),methods:{add:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("watching/addToWatching",this.form);case 2:this.form={showId:"",seasonId:"",episodeId:""},this.$parent.close();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkAired:function(t){if("object"===Object(Rt["a"])(t)){var e=new Date(t.released).getTime();return e-this.today<0||1==t.number}return!1},findShow:function(t){return this.shows.find((function(e){return e.show._id===t}))},onChooseShow:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.form.seasonId="",this.form.episodeId="",t.next=4,this.$store.dispatch("lookups/getSeasons",this.form.showId);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onChooseSeason:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("lookups/getEpisodes",this.form.seasonId);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Mt=Nt,At=Object(m["a"])(Mt,Dt,It,!1,null,null,null),Gt=At.exports;function Bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ut={name:"ShowCollection",created:function(){this.$store.dispatch("showCollection/getShowCollection")},computed:Lt({},Object(u["c"])({collection:function(t){var e=t.showCollection;return e.collection}})),components:{ShowCard:H,SearchShows:Ct,NoContent:Tt,Popup:B,AddToWatchlist:Gt}},Ft=Ut,Ht=Object(m["a"])(Ft,ut,lt,!1,null,null,null),Yt=Ht.exports,qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid fade-in"},[n("popup",{ref:"popup",attrs:{title:"Add To Watch List",size:"md"}},[n("add-to-watchlist",{attrs:{shows:t.collection}})],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12"},[n("button",{staticClass:"button pull-right margin-bottom-30",on:{click:function(e){return e.preventDefault(),t.$refs.popup.open()}}},[t._v("Track a show")])]),t._l(t.watching,(function(t){return n("div",{key:t._id,staticClass:"col-xs-12 col-sm-6 col-md-3"},[n("watchlist-card",{attrs:{heading:t.show.title,id:t._id,data:t,"img-src":t.show.poster}})],1)})),n("no-content",{attrs:{message:"Your watch list is empty!",condition:!t.watching.length}})],2)],1)},zt=[],Vt=(n("0cd8"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("popup",{ref:"confirmPopup",attrs:{title:"Confirm",size:"md"}},[n("h4",{staticClass:"margin-top-0 margin-bottom-20"},[t._v("\n      Are you sure you want to delete this show?\n    ")]),n("div",{staticClass:"margin-bottom-30"},[n("switch-group",{attrs:{options:t.options},model:{value:t.deleteReason,callback:function(e){t.deleteReason=e},expression:"deleteReason"}})],1),n("button",{staticClass:"button button-sm red pull-left",attrs:{type:"button"},on:{click:function(e){return t.$refs.confirmPopup.close("cancel")}}},[t._v("Cancel\n    ")]),n("button",{staticClass:"button button-sm pull-right",attrs:{type:"button"},on:{click:function(e){return t.$refs.confirmPopup.close("yes")}}},[t._v("Yes\n    ")])]),n("div",{staticClass:"watchlist-card",style:{"background-image":"url("+t.imgSrc+")"},attrs:{tabindex:"0"}},[n("button",{staticClass:"icon-button red dripicons-trash",attrs:{type:"button"},on:{click:function(e){return t.confirmDelete(t.id)}}}),n("h2",[t._v(t._s(t.heading))]),n("h4",[t._v(t._s(t.data.on?t.data.on.title:""))]),n("h5",[t._v("On "+t._s(t.data.on?"Season "+t.data.on.season+" Episode "+t.data.on.episode:""))]),n("behind-count-button",{attrs:{count:t.data.behindCount,open:t.open},on:{click:function(e){return t.toggleOpen()}}}),n("slide-out-panel",{attrs:{open:t.open}},[n("tabs",[t._l(t.data.show.seasons,(function(e){return n("tab-button",{key:e._id,attrs:{slot:"tab-buttons",name:t.tabButtonName(e.number),active:t.isTabSelected(e)},on:{click:function(n){return t.tabSelect(e)}},slot:"tab-buttons"})})),n("tab-panels-container",{attrs:{slot:"tab-panels-container",active:t.tabActive},slot:"tab-panels-container"},t._l(t.data.show.seasons,(function(e){return n("tab-panel",{key:e._id,attrs:{active:t.isTabSelected(e),number:e.number}},t._l(e.episodes,(function(e){return n("panel-row",{key:e._id,attrs:{"watching-id":t.id,number:e.number,title:e.title,watched:e.watched,released:e.released},on:{click:function(n){return t.watched(e)}}})})),1)})),1)],2)],1)],1)],1)}),Jt=[],Xt=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slide-out-panel",class:{open:t.open}},[t._t("default")],2)}),Kt=[],Qt={name:"SlideOutPanel",props:{open:Boolean}},Zt=Qt,te=(n("b903"),Object(m["a"])(Zt,Xt,Kt,!1,null,null,null)),ee=te.exports,ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tabs"},[t._t("tab-buttons")],2),n("div",{staticClass:"tab-panels"},[t._t("tab-panels-container")],2)])},re=[],oe={name:"Tabs"},ae=oe,se=(n("267c"),Object(m["a"])(ae,ne,re,!1,null,null,null)),ie=se.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"tab-button",class:{active:t.active},attrs:{type:"button",name:"button"},on:{click:function(e){return t.$emit("click")}}},[t._v(t._s(t.name)+"\n")])},ue=[],le={name:"TabButton",props:{name:String,active:Boolean}},pe=le,de=(n("79f7"),Object(m["a"])(pe,ce,ue,!1,null,null,null)),he=de.exports,me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-panel",class:{active:t.active},style:{left:t.position(),width:t.panelWidth()}},[t._t("default")],2)},fe=[],ve={name:"TabPanel",data:function(){return{width:320}},props:{active:Boolean,number:Number},methods:{position:function(){return"".concat(this.width*this.number,"px")},panelWidth:function(){return"".concat(this.width,"px")}},beforeUpdate:function(){this.width=this.$parent.clientWidth}},be=ve,we=(n("8d3b"),Object(m["a"])(be,me,fe,!1,null,null,null)),ge=we.exports,Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"panels_container",staticClass:"tab-panels-container",style:{width:t.panelsWidth,transform:t.moveTo()}},[t._t("default")],2)},ye=[],_e={name:"TabPanelsContainer",props:{active:Number},data:function(){return{clientWidth:0,panelsWidth:"100%"}},methods:{tabPanelWidth:function(){var t=this.$refs.panels_container.children.length;return"".concat(this.clientWidth*t,"px")},moveTo:function(){return"translate3d(-".concat(this.clientWidth*this.active,"px, 0, 0)")}},mounted:function(){this.clientWidth=this.$refs.panels_container.clientWidth,this.panelsWidth=this.tabPanelWidth(),this.$emit("TabPanelWidth",this.clientWidth)}},je=_e,Ce=(n("7f25"),Object(m["a"])(je,Oe,ye,!1,null,null,null)),Se=Ce.exports,Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"panel-row",class:{disabled:!t.watched}},[n("div",{staticClass:"col-25"},[n("span",{staticClass:"aired-by"},[n("i",{staticClass:"dripicons-feed"}),t._v("\n        "+t._s(t.aired(t.released).by)+"\n      ")])]),n("div",{staticClass:"col-60"},[n("div",{staticClass:"title"},[n("small",[t._v("Episode "+t._s(t.number)),n("br")]),t._v("\n        "+t._s(t.title?t.title:"-")+"\n      ")])]),n("div",{staticClass:"col-15",on:{click:function(e){return t.$emit("click")}}},[n("span",{staticClass:"dripicons-preview",class:{active:t.watched}})])])])},ke=[],xe={name:"PanelRow",data:function(){return{timeNow:(new Date).getTime()}},props:{watchingId:String,number:Number,title:String,watched:Boolean,released:String},methods:{aired:function(t){t=new Date(t).getTime();var e=Math.abs(t-this.timeNow)/1e3,n=t-this.timeNow<0,r={isAired:n};return n?(r.by="- ".concat(Math.ceil(e/86400)," days"),Math.ceil(e/86400)>30&&(r.by="aired")):r.by="not aired",r}}},Ee=xe,Te=(n("e23a"),Object(m["a"])(Ee,Pe,ke,!1,null,null,null)),De=Te.exports,Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"more-button",class:{open:t.open,"up-to-date":!t.count},attrs:{type:"button",name:"more"},on:{click:function(e){return t.$emit("click")}}},[n("span",{staticClass:"dripicons-plus"}),n("span",{staticClass:"behind"},[t._v(t._s(t.count))])])},Re=[],$e={name:"BehindCountButton",props:{open:Boolean,count:Number}},We=$e,Ne=(n("94a5"),Object(m["a"])(We,Ie,Re,!1,null,null,null)),Me=Ne.exports,Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"switch-group"},t._l(t.options,(function(e){return n("div",{key:e.id,staticClass:"switch-group-item",class:{active:e.label==t.model},style:{width:100/t.options.length+"%"}},[n("label",{attrs:{for:e.label}},[n("input",{attrs:{type:"radio",id:e.label,name:e.label},domProps:{value:t.model,checked:e.label==t.model},on:{input:function(n){t.$emit("input",e.label),t.model=e.label}}}),t._v("\n        "+t._s(e.label)+"\n    ")])])})),0)},Ge=[],Be={name:"SwitchGroup",props:{value:String,options:Array},data:function(){return{model:this.value}},create:function(){this.model=this.value}},Le=Be,Ue=(n("f9fe"),Object(m["a"])(Le,Ae,Ge,!1,null,null,null)),Fe=Ue.exports,He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"glass"},[t._t("default"),n("div",{staticClass:"frost",style:{"background-image":"url("+t.imgSrc+")"}})],2)},Ye=[],qe={name:"FrostGlass",props:{imgSrc:String}},ze=qe,Ve=(n("3bb8"),Object(m["a"])(ze,He,Ye,!1,null,null,null)),Je=Ve.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"countdown-timer"},[n("span",{staticClass:"time"},[t._v("\n      "+t._s(t.counter.d.val)+" "),n("i",[t._v(t._s(t.counter.d.name))])]),n("div",{staticClass:"time"},[t._v("\n      "+t._s(t.counter.h.val)+" "),n("i",[t._v(t._s(t.counter.h.name))])]),n("div",{staticClass:"time"},[t._v("\n      "+t._s(t.counter.m.val)+" "),n("i",[t._v(t._s(t.counter.m.name))])]),n("div",{staticClass:"time"},[t._v("\n      "+t._s(t.counter.s.val)+" "),n("i",[t._v(t._s(t.counter.s.name))])])])},Ke=[],Qe={name:"CountdownTimer",props:{to:Number},data:function(){return{counter:{d:{val:"00",name:"days"},h:{val:"00",name:"hours"},m:{val:"00",name:"mins"},s:{val:"00",name:"secs"}},inSeconds:{now:function(){return(new Date).getTime()/1e3},day:86400,hour:3600,minute:60}}},mounted:function(){var t=this;if(!this.to)return this.prettifyTime([0,0,0,0]);window.setInterval((function(){t.timer(t.to)}),1e3)},methods:{timer:function(t){var e=this.inSeconds;t/=1e3;var n=Math.abs(t-e.now());(t-e.now()<0||!t)&&this.prettifyTime([0,0,0,0]);var r=Math.floor(n/e.day);n-=r*e.day;var o=Math.floor(n/e.hour)%e.hour;n-=o*e.hour;var a=Math.floor(n/e.minute)%e.hour;n-=a*e.minute;var s=Math.floor(n);this.prettifyTime([r,o,a,s])},prettifyTime:function(t){var e={},n=["day","hour","min","sec"],r=0;for(r;r<4;r++){var o=n[r].charAt(0);e[o]={name:n[r],val:"0"+t[r]},t[r]>1&&t[r]<10&&(e[o]={name:n[r]+"s",val:"0"+t[r]}),t[r]>9&&(e[o]={name:n[r]+"s",val:""+t[r]})}this.counter=e}}},Ze=Qe,tn=(n("d66c"),Object(m["a"])(Ze,Xe,Ke,!1,null,null,null)),en=tn.exports,nn={name:"WatchlistCard",props:{heading:String,details:String,id:String,data:Object,nextAired:Number,behindCount:Number,imgSrc:String},data:function(){return{open:!1,tabActive:1,options:[{id:1,label:"Woke Shit"},{id:2,label:"Boring"},{id:3,label:"Done"}],deleteReason:""}},created:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("watching/getWatchingOn",this.id);case 2:return e=this.data.on,t.next=5,this.tabSelect(this.data.show.seasons[e.season-1]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{toggleOpen:function(){this.open=!this.open},confirmDelete:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirmPopup.open();case 2:if(n=t.sent,"yes"!=n){t.next=6;break}return t.next=6,this.$store.dispatch("watching/deleteWatching",{id:e,deleteReason:this.deleteReason});case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),tabButtonName:function(t){return t<10?"S0".concat(t):"S".concat(t)},tabSelect:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("watching/getEpisodes",{watchingId:this.id,seasonId:e._id});case 2:this.tabActive=e.number,this.$forceUpdate();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),isTabSelected:function(t){var e=t.number;return this.tabActive==e},watched:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("watching/toggleWatched",{watchingId:this.id,seasonId:e.season,episodeId:e._id});case 2:this.$forceUpdate();case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},components:{Popup:B,SlideOutPanel:ee,Tabs:ie,TabButton:he,TabPanel:ge,TabPanelsContainer:Se,PanelRow:De,BehindCountButton:Me,SwitchGroup:Fe,FrostGlass:Je,CountdownTimer:en}},rn=nn,on=(n("de21"),Object(m["a"])(rn,Vt,Jt,!1,null,null,null)),an=on.exports;function sn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sn(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var un={name:"Watching",computed:cn({},Object(u["c"])({watching:function(t){var e=t.watching;return e.watching},collection:function(t){var e=t.showCollection;return e.collection}})),methods:{behindCount:function(t){var e=t.reduce((function(t,e){if(e.episodes){var n=e.episodes.filter((function(t){return!t.watched}));t+=n.length}return t}),0);return e>0?-1*e:e}},mounted:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("watching/getWatching");case 2:return t.next=4,this.$store.dispatch("showCollection/getShowCollection");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),components:{WatchlistCard:an,NoContent:Tt,Popup:B,AddToWatchlist:Gt}},ln=un,pn=Object(m["a"])(ln,qt,zt,!1,null,null,null),dn=pn.exports,hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container fade-in"},[t._l(t.watchedShows,(function(t){return n("div",{key:t._id,staticClass:"col-sm-4"},[n("watched-show-card",{attrs:{data:t}})],1)})),n("no-content",{attrs:{message:"You haven't watched any shows yet!",condition:!t.watchedShows.length}})],2)},mn=[],fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("popup",{ref:"confirmPopup",attrs:{title:"Confirm",size:"md"}},[n("h4",{staticClass:"margin-top-0 margin-bottom-20"},[t._v("\n      Are you sure you want to delete this watched show?\n    ")]),n("button",{staticClass:"button button-sm red pull-left",attrs:{type:"button"},on:{click:function(e){return t.$refs.confirmPopup.close("cancel")}}},[t._v("Cancel\n    ")]),n("button",{staticClass:"button button-sm pull-right",attrs:{type:"button"},on:{click:function(e){return t.$refs.confirmPopup.close("yes")}}},[t._v("Yes\n    ")])]),n("card",{staticClass:"watched-show-card margin-bottom-20",attrs:{tabindex:"0"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"bar"},[n("progress-bar",{attrs:{percentage:t.data.percentage}})],1),n("h3",{staticClass:"margin-bottom-0"},[t._v(t._s(t.data.show))]),t._v("\n      "+t._s(t.data.on.title)+"\n      "),n("div",{staticClass:"margin-top-10"},[100!=t.data.percentage?n("small",[n("span",{staticClass:"visible-xs visible-sm"},[t._v(t._s(t.onEpisode(t.data.on,!0)))]),n("span",{staticClass:"hidden-xs hidden-sm"},[t._v(t._s(t.onEpisode(t.data.on)))])]):t._e(),n("div",{staticClass:"margin-top-10"},[t.data.deleteReason?n("span",{staticClass:"status red"},[t._v(t._s(t.data.deleteReason))]):t._e(),100==t.data.percentage?n("span",{staticClass:"status green"},[t._v("Complete")]):t._e()])])]),n("button",{staticClass:"icon-button red dripicons-trash",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.onDelete()}}}),n("button",{staticClass:"icon-button dripicons-clockwise",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.onRewatching()}}}),n("button",{staticClass:"icon-button dripicons-media-play",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.onContinue()}}}),n("div",{staticClass:"poster",style:{"background-image":"url("+t.data.poster+")"}})])],1)},vn=[],bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-bar-container"},[n("div",{staticClass:"progress",style:{width:t.percentage+"%"}})])},wn=[],gn={name:"ProgressBar",props:{percentage:{type:Number,default:0}}},On=gn,yn=(n("0f16"),Object(m["a"])(On,bn,wn,!1,null,null,null)),_n=yn.exports,jn={name:"WatchedShowCard",props:{data:Object},data:function(){return{statusClasses:{Running:"green",Ended:"red"}}},methods:{onContinue:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("watchedShows/continueWatching",this.data);case 2:e=t.sent,e&&this.$router.push({name:"watching"});case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onRewatching:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("watchedShows/rewatching",this.data);case 2:e=t.sent,e&&this.$router.push({name:"watching"});case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDelete:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirmPopup.open();case 2:if(e=t.sent,"yes"!=e){t.next=6;break}return t.next=6,this.$store.dispatch("watchedShows/deleteFromWatchedShows",this.data);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onEpisode:function(t,e){return e?"S".concat(t.season<9?0:"").concat(t.season," E").concat(t.episode<9?0:"").concat(t.episode):"Season ".concat(t.season," Episode ").concat(t.episode)},statusClass:function(t){return this.statusClasses[t]}},components:{Popup:B,Card:ot,ProgressBar:_n}},Cn=jn,Sn=(n("ed2f"),Object(m["a"])(Cn,fn,vn,!1,null,null,null)),Pn=Sn.exports;function kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var En={name:"Watched",data:function(){return{statusClasses:{Running:"green",Ended:"red"}}},computed:xn({},Object(u["c"])({watchedShows:function(t){return t.watchedShows.watchedShows}})),mounted:function(){this.$store.dispatch("watchedShows/getWatchedShows")},components:{NoContent:Tt,WatchedShowCard:Pn}},Tn=En,Dn=Object(m["a"])(Tn,hn,mn,!1,null,null,null),In=Dn.exports,Rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid fade-in"},[n("div",{staticClass:"row margin-bottom-20"},[n("div",{staticClass:"col-xs-12"},[n("search-movies")],1)]),n("div",{staticClass:"row show-layout"},[t._l(t.collection,(function(t){return n("div",{key:t._id,staticClass:"col-xs-6 col-sm-3 col-md-2"},[n("movie-card",{attrs:{heading:t.movie.title,"img-src":t.movie.poster,"movie-id":t.movie._id,id:t._id,deleteable:!0}})],1)})),n("no-content",{attrs:{message:"Your movie collection is empty!",condition:!t.collection.length}})],2)])},$n=[],Wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.findShow(e)}}},[n("div",{staticClass:"form-element search dark"},[t.foundMovies.length?n("button",{staticClass:"dripicons-cross",attrs:{type:"button"},on:{click:t.empty}}):t._e(),n("div",{staticClass:"loader",class:{show:t.sendStatus.loader}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"'Movie Name, Year'"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("button",{staticClass:"dripicons-search",attrs:{type:"submit",disabled:t.sendStatus.disableButton}}),n("div",{staticClass:"search-results",class:{show:t.foundMovies}},t._l(t.foundMovies,(function(e,r){return n("search-result-item",{key:r,attrs:{poster:e.Poster,title:e.Title,plot:e.Plot,year:e.Year,disabled:t.sendStatus.disableButton},on:{click:function(n){return t.addMovie(e)}}})})),1)])])},Nn=[];n("7f7f");function Mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Gn={name:"SearchMovies",data:function(){return{name:"",sendStatus:{disableButton:!1,loader:!1,validation:""}}},computed:An({},Object(u["c"])({foundMovies:function(t){var e=t.movies;return e.foundMovies}})),methods:{addMovie:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.sendStatus.disableButton=!0,t.next=3,this.$store.dispatch("movieCollection/saveToMovieCollectionMovie",e);case 3:this.name="",this.sendStatus.disableButton=!1,this.empty();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),findShow:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.sendStatus.disableButton=!0,t.next=3,this.$store.dispatch("movies/findMovies",this.name);case 3:this.sendStatus.disableButton=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),empty:function(){this.$store.dispatch("movies/emptyFoundMovies")}},components:{SearchResultItem:wt}},Bn=Gn,Ln=(n("9906"),Object(m["a"])(Bn,Wn,Nn,!1,null,null,null)),Un=Ln.exports,Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("popup",{ref:"confirmPopup",attrs:{title:"Confirm",size:"md"}},[n("h4",{staticClass:"margin-top-0 margin-bottom-30"},[t._v("\n      Are you sure you want to delete this movie?\n    ")]),n("button",{staticClass:"button button-sm red pull-left",attrs:{type:"button"},on:{click:function(e){return t.$refs.confirmPopup.close("cancel")}}},[t._v("Cancel\n    ")]),n("button",{staticClass:"button button-sm pull-right",attrs:{type:"button"},on:{click:function(e){return t.$refs.confirmPopup.close("yes")}}},[t._v("Yes\n    ")])]),n("div",{staticClass:"movie-card",class:{deleteable:t.deleteable},style:{"background-image":"url("+t.imgSrc+")"},attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.goToMovieDetails(t.movieId)}}},[n("button",{staticClass:"icon-button dripicons-trash",attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.confirmDelete()}}}),n("h2",[t._v(t._s(t.heading))])])],1)},Hn=[],Yn={name:"MovieCard",data:function(){return{deleteOpen:!1}},props:{heading:String,imgSrc:String,movieId:String,id:String,deleteable:Boolean},methods:{goToMovieDetails:function(t){this.$router.push({name:"movieDetails",params:{movieId:t}})},confirmDelete:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirmPopup.open();case 2:if(e=t.sent,"yes"!=e){t.next=6;break}return t.next=6,this.$store.dispatch("movieCollection/deleteFromMovieCollection",this.id);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},components:{Popup:B}},qn=Yn,zn=(n("2151"),Object(m["a"])(qn,Fn,Hn,!1,null,null,null)),Vn=zn.exports;function Jn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jn(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kn={name:"MovieCollection",computed:Xn({},Object(u["c"])({collection:function(t){var e=t.movieCollection;return e.collection}})),created:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("movieCollection/getMovieCollection");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),components:{SearchMovies:Un,MovieCard:Vn,NoContent:Tt}},Qn=Kn,Zn=Object(m["a"])(Qn,Rn,$n,!1,null,null,null),tr=Zn.exports,er=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"poster-xl-bg-container"},[n("div",{staticClass:"container fade-in"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12"},[n("div",{staticClass:"movie-details"},[n("div",{staticClass:"col-sm-12"},[n("h1",[t._v("\n                    "+t._s(t.movie.title)+" \n                    "),n("span",{staticClass:"runtime"},[t._v(t._s(t.movie.runtime))]),n("span",{staticClass:"year"},[t._v(t._s(t.movie.year))])]),n("h4",{staticClass:"genre"},[t._v(t._s(t.movie.genre))])]),n("div",{staticClass:"col-sm-6 col-md-5"},[n("p",[t._v(t._s(t.movie.plot))])])])])]),n("div",{staticClass:"row ratings margin-top-50"},t._l(t.movie.ratings,(function(e,r){return n("div",{key:r,staticClass:"col-xs-4"},[n("div",{staticClass:"rating"},[n("p",[t._v(t._s(e.source))]),n("h4",[t._v(t._s(e.value))])])])})),0)]),n("div",{staticClass:"poster-gradient"}),n("img",{staticClass:"poster-background",class:{enter:t.showPoster},attrs:{src:t.movie.posterXL}})])])},nr=[];function rr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rr(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ar={name:"MovieDetails",data:function(){return{showPoster:!1}},computed:or({},Object(u["c"])({movie:function(t){var e=t.movies;return e.movie}})),mounted:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.movieId,t.next=3,this.$store.dispatch("movies/movieGet",e);case 3:setTimeout((function(){n.showPoster=!0}),500);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),components:{}},sr=ar,ir=(n("ef49"),Object(m["a"])(sr,er,nr,!1,null,null,null)),cr=ir.exports,ur=n("bc3a"),lr=n.n(ur),pr=lr.a.create({baseURL:"https://to--watch.herokuapp.com"});pr.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&"https://www.omdbapi.com"!==t.url&&(t.headers["Authorization"]="token ".concat(e)),t}),(function(t){return Promise.reject(t)})),pr.interceptors.response.use((function(t){return t}),(function(t){var e=t.response;return 401===e.status&&Zo.dispatch("auth/signUserOut"),Promise.reject(t.response)}));var dr,hr,mr,fr,vr=pr,br="UPDATE_USER",wr="SIGN_OUT_USER",gr="SET_MOST_POPULAR_SHOWS",Or="SHOW_COLLECTION_GET",yr="SHOW_COLLECTION_ADD",_r="SHOW_COLLECTION_DELETE",jr="UPDATE_FOUND_SHOWS",Cr="EMPTY_FOUND_SHOWS",Sr="WATCHING_GET",Pr="WATCHING_ADD",kr="WATCHING_DELETE",xr="WATCHING_TOGGLE_EPISODE_WATCHED",Er="WATCHING_ON_UPDATE",Tr="WATCHED_SHOWS_GET",Dr="WATCHED_SHOWS_DELETE",Ir="MOVIE_GET",Rr="MOVIE_COLLECTION_GET",$r="MOVIE_COLLECTION_ADD",Wr="MOVIE_COLLECTION_DELETE",Nr="UPDATE_FOUND_MOVIES",Mr="EMPTY_FOUND_MOVIES",Ar="SEASONS_GET",Gr="EPISODES_GET",Br="TOAST_MESSAGE",Lr="TOAST_DISMISS",Ur={user:{email:""}},Fr={user:function(t){return t.user},token:function(){var t=localStorage.getItem("token");return t&&"null"!=t?t:null}},Hr={signUserIn:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,t.prev=1,t.next=4,vr({method:"POST",url:"/login",data:n});case 4:a=t.sent,localStorage.setItem("token",a.data.token),r(br,n),na.push({name:"showCollection"}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),s=t.t0.data,o("showToast",{title:"Error",message:s.message},{root:!0});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),signUserOut:function(t){var e=t.commit;localStorage.setItem("token",null),na.push({name:"login"}),e(wr)},getCurrentUser:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,vr({method:"GET",url:"/user"});case 4:r=t.sent,n(br,r.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),n(br,{});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}()},Yr=(dr={},Object(s["a"])(dr,br,(function(t,e){t.user.email=e.email})),Object(s["a"])(dr,wr,(function(t){t.user={email:""}})),dr),qr={namespaced:!0,state:Ur,getters:Fr,actions:Hr,mutations:Yr},zr={shows:[]},Vr={},Jr={getMostPopularShows:function(t){var e=t.commit;lr.a.get("https://www.episodate.com/api/most-popular?page=1").then((function(t){e(gr,t.data.tv_shows)}))}},Xr=Object(s["a"])({},gr,(function(t,e){t.shows=e})),Kr={namespaced:!0,state:zr,getters:Vr,mutations:Xr,actions:Jr},Qr=n("75fc"),Zr={collection:[]},to={},eo={getShowCollection:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.prev=1,t.next=4,vr({method:"GET",url:"/show-collections"});case 4:o=t.sent,n(Or,o.data),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),a=t.t0.data,r("showToast",{title:"Error",message:a.message},{root:!0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),saveToShowCollection:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,t.prev=1,t.next=4,vr({method:"GET",url:"https://www.omdbapi.com",params:{apikey:"7174c422",i:n.imdbID,type:"series"}});case 4:return a=t.sent,t.next=7,vr({method:"POST",url:"/show-collections",data:a.data});case 7:s=t.sent,i=s.data,r(yr,i.show),o("showToast",{title:"Show added.",message:i.message},{root:!0}),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),c=t.t0.data,o("showToast",{title:"Error",message:c.message},{root:!0});case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteFromShowCollection:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,a=n.id,t.prev=2,t.next=5,vr({method:"DELETE",url:"/show-collections/".concat(a)});case 5:s=t.sent,i=s.data,r(_r,a),o("showToast",{title:"Show Deleted",message:i.message},{root:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),c=t.t0.data,o("showToast",{title:"Error",message:c.message},{root:!0});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),updateShow:function(t,e){t.dispatch}},no=(hr={},Object(s["a"])(hr,Or,(function(t,e){t.collection=e})),Object(s["a"])(hr,yr,(function(t,e){t.collection=[].concat(Object(Qr["a"])(t.collection),[e])})),Object(s["a"])(hr,_r,(function(t,e){t.collection=t.collection.filter((function(t){return t._id!==e}))})),hr),ro={namespaced:!0,state:Zr,getters:to,mutations:no,actions:eo},oo={foundShows:[]},ao={},so={searchForShow:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,a=n.type,s=n.showName,t.next=4,vr({method:"GET",url:"https://www.omdbapi.com",params:{apikey:"7174c422",s:s,type:a}});case 4:if(i=t.sent,!i.data.Error){t.next=7;break}return t.abrupt("return",o("showToast",{title:"Not Found",message:"Show could not be found."}));case 7:r(jr,i.data.Search);case 8:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),updateShow:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,o=n.imdbId,a=n.showId,t.prev=2,t.next=5,vr({method:"GET",url:"https://www.omdbapi.com",params:{apikey:"7174c422",i:o,type:"series"}});case 5:return s=t.sent,t.next=8,vr({method:"POST",url:"/shows/".concat(a,"/update"),data:s.data});case 8:return i=t.sent,c=i.data,r("showToast",{title:"Show Updated.",message:c.message},{root:!0}),t.abrupt("return",s.data.show);case 14:return t.prev=14,t.t0=t["catch"](2),u=t.t0.data,r("showToast",{title:"Error.",message:u},{root:!0}),t.abrupt("return",u);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));function e(e,n){return t.apply(this,arguments)}return e}(),emptyFoundShows:function(t){var e=t.commit;e(Cr)}},io=(mr={},Object(s["a"])(mr,jr,(function(t,e){t.foundShows=e})),Object(s["a"])(mr,Cr,(function(t){t.foundShows=[]})),mr),co={namespaced:!0,state:oo,getters:ao,mutations:io,actions:so};n("6d67"),n("57e7");function uo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uo(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var po,ho,mo={watching:[]},fo={watching:function(t){return t.watching}},vo={getWatching:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.prev=1,t.next=4,vr({method:"GET",url:"/watchings"});case 4:o=t.sent,n(Sr,o.data),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),a=t.t0.data,r("showToast",{title:"Error",message:a.message},{root:!0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),addToWatching:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,o=e.commit,a=n.showId,s=n.seasonId,i=n.episodeId,t.prev=2,t.next=5,vr({method:"POST",url:"/watchings",data:{showId:a,seasonId:s,episodeId:i}});case 5:c=t.sent,u=c.data,o(Pr,u.watching),r("showToast",{title:"Added To Watching",message:u.message},{root:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),l=t.t0.data,r("showToast",{title:"Error",message:l},{root:!0});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteWatching:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,o=e.commit,a=n.id,s=n.deleteReason,t.prev=2,t.next=5,vr({method:"DELETE",url:"/watchings/".concat(a),data:{deleteReason:s}});case 5:i=t.sent,c=i.data,o(kr,a),r("showToast",{title:"Show Deleted",message:c.message},{root:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),u=t.t0.data,r("showToast",{title:"Error",message:u.message},{root:!0});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),getEpisodes:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,a=n.watchingId,s=n.seasonId,t.prev=2,t.next=5,vr({method:"GET",url:"/episodes/".concat(s)});case 5:i=t.sent,c=i.data,r(Gr,{id:a,seasonId:s,episodes:c}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),u=t.t0.data,o("showToast",{title:"Error",message:u.message},{root:!0});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),toggleWatched:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,a=n.watchingId,s=n.seasonId,i=n.episodeId,t.prev=2,t.next=5,vr({method:"POST",url:"/watched-episodes/".concat(a,"/").concat(i)});case 5:c=t.sent,u=c.data,r(xr,{watchingId:a,seasonId:s,episodeId:i}),r(Er,{watchingId:a,data:u}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),l=t.t0.data,o("showToast",{title:"Error",message:l.message},{root:!0});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),getWatchingOn:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,t.prev=1,t.next=4,vr({method:"GET",url:"/watchings/".concat(n,"/on")});case 4:a=t.sent,s=a.data,r(Er,{watchingId:n,data:s}),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),i=t.t0.data,o("showToast",{title:"Error",message:i.message},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()},bo=(fr={},Object(s["a"])(fr,Sr,(function(t,e){t.watching=e})),Object(s["a"])(fr,Pr,(function(t,e){t.watching=[].concat(Object(Qr["a"])(t.watching),[e])})),Object(s["a"])(fr,kr,(function(t,e){t.watching=t.watching.filter((function(t){return t._id!=e}))})),Object(s["a"])(fr,Gr,(function(t,e){var n=e.id,r=e.seasonId,o=e.episodes,a=t.watching.find((function(t){return t._id==n})),s=a.on,i=a.show,c=i.seasons.find((function(t){return t._id==r})),u=i.seasons.indexOf(c)+1,l=u<s.season,p=function(t){return u==s.season&&t.number<=s.episode},d=o.map((function(t){return lo({},t,{watched:l||p(t)})}));t.watching.map((function(t){return t._id===n&&t.show.seasons.map((function(t){return t._id==r&&(t.episodes=d),t})),t}))})),Object(s["a"])(fr,xr,(function(t,e){var n=e.watchingId,r=e.seasonId,o=e.episodeId;t.watching=t.watching.map((function(t){return t._id===n&&t.show.seasons.map((function(t){if(t._id===r){var e=t.episodes.reduce((function(t,e,n){return e._id==o?n+1:t}),0);t.episodes.map((function(t,n){return t.watched=n<e,t}))}return t})),t}))})),Object(s["a"])(fr,Er,(function(t,e){var n=e.watchingId,r=e.data;t.watching=t.watching.map((function(t){return t._id===n&&(t.on=r.on,t.behindCount=r.behindCount),t}))})),fr),wo={namespaced:!0,state:mo,getters:fo,mutations:bo,actions:vo},go={watchedShows:[]},Oo={},yo={getWatchedShows:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,r=e.commit,t.prev=1,t.next=4,vr({method:"GET",url:"/watched-shows"});case 4:o=t.sent,r(Tr,o.data),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),a=t.t0.data,n("showToast",{title:"Error",message:a.message},{root:!0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteFromWatchedShows:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,o=e.commit,a=n._id,t.prev=2,t.next=5,vr({method:"DELETE",url:"/watched-shows/".concat(a)});case 5:s=t.sent,i=s.data,o(Dr,a),r("showToast",{title:"Deleted",message:i.message},{root:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),c=t.t0.data,r("showToast",{title:"Error",message:c.message},{root:!0});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),continueWatching:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,o=n.watchingId,a=n.show,t.prev=2,t.next=5,vr({method:"POST",url:"/watched-shows/".concat(o,"/continue")});case 5:return r("showToast",{title:"Continue Watching",message:a},{root:!0}),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t["catch"](2),s=t.t0.data,r("showToast",{title:"Error",message:s},{root:!0}),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),rewatching:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,o=n._id,a=n.show,t.prev=2,t.next=5,vr({method:"POST",url:"/watched-shows/".concat(o,"/rewatch")});case 5:return r("showToast",{title:"Rewatching",message:a},{root:!0}),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t["catch"](2),s=t.t0.data,r("showToast",{title:"Error",message:s},{root:!0}),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()},_o=(po={},Object(s["a"])(po,Tr,(function(t,e){t.watchedShows=e})),Object(s["a"])(po,Dr,(function(t,e){t.watchedShows=t.watchedShows.filter((function(t){return t._id!=e}))})),po),jo={namespaced:!0,state:go,getters:Oo,mutations:_o,actions:yo};function Co(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Co(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Po,ko={collection:[]},xo={},Eo={getMovieCollection:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.prev=1,t.next=4,vr({method:"GET",url:"/movie-collections"});case 4:o=t.sent,n(Rr,o.data),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),a=t.t0.data,r("showToast",{title:"Error",message:a.message},{root:!0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),saveToMovieCollectionMovie:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,t.prev=1,a=n.Poster.substring(0,n.Poster.length-7),t.next=5,vr({method:"POST",url:"/movie-collections",data:So({},n,{Poster:a+"210.jpg",PosterXL:a+"720.jpg"})});case 5:s=t.sent,i=s.data,r($r,i.movie),o("showToast",{title:"Movie added.",message:i.message},{root:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),c=t.t0.data,o("showToast",{title:"Error",message:c.message},{root:!0});case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteFromMovieCollection:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,t.prev=1,t.next=4,vr({method:"DELETE",url:"/movie-collections/".concat(n)});case 4:a=t.sent,s=a.data,r(Wr,n),o("showToast",{title:"Show Deleted",message:s.message},{root:!0}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),i=t.t0.data,o("showToast",{title:"Error",message:i.message},{root:!0});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,n){return t.apply(this,arguments)}return e}()},To=(ho={},Object(s["a"])(ho,Rr,(function(t,e){t.collection=e})),Object(s["a"])(ho,$r,(function(t,e){t.collection=[].concat(Object(Qr["a"])(t.collection),[e])})),Object(s["a"])(ho,Wr,(function(t,e){t.collection=t.collection.filter((function(t){return t._id!==e}))})),ho),Do={namespaced:!0,state:ko,getters:xo,mutations:To,actions:Eo};n("28a5");function Io(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Io(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $o,Wo,No={movie:{},foundMovies:[]},Mo={},Ao={movieGet:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,o=e.commit,t.prev=1,t.next=4,vr({method:"GET",url:"/movies/".concat(n)});case 4:a=t.sent,s=a.data,o(Ir,s),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),i=t.t0.data,r("showToast",{title:"Error",message:i.message},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),findMovies:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s,i,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,o=e.dispatch,n){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,vr({method:"GET",url:"https://www.omdbapi.com",params:{apikey:"7174c422",plot:"full",t:n.split(",")[0],y:n.split(",")[1]}});case 6:if(a=t.sent,s=a.data,!s.Error){t.next=10;break}return t.abrupt("return",o("showToast",{title:"Not Found",message:"Movie could not be found."},{root:!0}));case 10:i=s.Poster,c=i.substring(0,i.length-7),r(Nr,[Ro({},s,{Poster:c+"125.jpg"})]),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](3),u=t.t0.data,o("showToast",{title:"Error",message:u.message},{root:!0});case 19:case"end":return t.stop()}}),t,null,[[3,15]])})));function e(e,n){return t.apply(this,arguments)}return e}(),emptyFoundMovies:function(t){var e=t.commit;e(Mr)}},Go=(Po={},Object(s["a"])(Po,Ir,(function(t,e){t.movie=e})),Object(s["a"])(Po,Nr,(function(t,e){t.foundMovies=e})),Object(s["a"])(Po,Mr,(function(t){t.foundMovies=[]})),Po),Bo={namespaced:!0,state:No,getters:Mo,mutations:Go,actions:Ao},Lo={seasons:[],episodes:[]},Uo={},Fo={getSeasons:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,t.prev=1,r("resetState","seasons"),t.next=5,vr({method:"GET",url:"/seasons/".concat(n)});case 5:a=t.sent,r(Ar,a.data),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),s=t.t0.data,o("showToast",{title:"Error",message:s},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),getEpisodes:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.dispatch,t.prev=1,r("resetState","episodes"),t.next=5,vr({method:"GET",url:"/episodes/".concat(n)});case 5:a=t.sent,r(Gr,a.data),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),s=t.t0.data,o("showToast",{title:"Error",message:s},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()},Ho=($o={},Object(s["a"])($o,Ar,(function(t,e){t.seasons=e})),Object(s["a"])($o,Gr,(function(t,e){t.episodes=e})),Object(s["a"])($o,"resetState",(function(t,e){t[e]=[]})),$o),Yo={namespaced:!0,state:Lo,getters:Uo,mutations:Ho,actions:Fo};function qo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qo(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Vo={toasts:[]},Jo={toasts:function(t){return t.toasts}},Xo={showToast:function(t,e){var n=t.commit,r=(new Date).getTime();n(Br,zo({},e,{timestamp:r})),setTimeout((function(){n(Lr,r)}),4e3)},dismissToast:function(t,e){var n=t.commit;n(Lr,e)}},Ko=(Wo={},Object(s["a"])(Wo,Br,(function(t,e){t.toasts.push(zo({},e,{show:!0}))})),Object(s["a"])(Wo,Lr,(function(t,e){t.toasts.map((function(t){return t.timestamp===e&&(t.show=!1),t}))})),Wo),Qo={state:Vo,getters:Jo,actions:Xo,mutations:Ko};r["a"].use(u["a"]);var Zo=new u["a"].Store({modules:{auth:qr,mostPopular:Kr,showCollection:ro,shows:co,watching:wo,watchedShows:jo,movieCollection:Do,movies:Bo,lookups:Yo,toast:Qo}});r["a"].use(E["a"]);var ta=new E["a"]({linkActiveClass:"active",routes:[{path:"/most-popular",name:"mostPopular",component:X},{path:"/login",name:"login",component:ct},{path:"/show-collection",name:"showCollection",component:Yt,meta:{requiresAuth:!0}},{path:"/watching",name:"watching",component:dn,meta:{requiresAuth:!0}},{path:"/watched-shows",name:"watchedShows",component:In,meta:{requiresAuth:!0}},{path:"/movie-collection",name:"movieCollection",component:tr,meta:{requiresAuth:!0}},{path:"/movie-details/:movieId",name:"movieDetails",component:cr,meta:{requiresAuth:!0}},{path:"/",redirect:"/most-popular"}],scrollBehavior:function(){return{x:0,y:0}}});ta.beforeEach((function(t,e,n){t.matched.some((function(t){return t.meta.requiresAuth}))?(ea()||Zo.dispatch("auth/signUserOut"),n()):n()}));var ea=function(){var t=localStorage.getItem("token");return t&&"null"!=t?t:null},na=ta;r["a"].config.productionTip=!1,new r["a"]({store:Zo,el:"#app",router:na,render:function(t){return t(x)},components:{App:x}}).$mount("#app")},"570c":function(t,e,n){"use strict";var r=n("e24f"),o=n.n(r);o.a},"5cd4":function(t,e,n){},"5d33":function(t,e,n){},"5f8e":function(t,e,n){"use strict";var r=n("fd71"),o=n.n(r);o.a},6802:function(t,e,n){"use strict";var r=n("d62a"),o=n.n(r);o.a},"74eb":function(t,e,n){},"79f7":function(t,e,n){"use strict";var r=n("b9a4"),o=n.n(r);o.a},"7e23":function(t,e,n){},"7f25":function(t,e,n){"use strict";var r=n("020d"),o=n.n(r);o.a},8108:function(t,e,n){},8160:function(t,e,n){"use strict";var r=n("1841"),o=n.n(r);o.a},"823f":function(t,e,n){},"8a1a":function(t,e,n){},"8d3b":function(t,e,n){"use strict";var r=n("2535"),o=n.n(r);o.a},"93a7":function(t,e,n){},"94a5":function(t,e,n){"use strict";var r=n("8a1a"),o=n.n(r);o.a},9906:function(t,e,n){"use strict";var r=n("18b8"),o=n.n(r);o.a},af49:function(t,e,n){},b3ab:function(t,e,n){},b903:function(t,e,n){"use strict";var r=n("5d33"),o=n.n(r);o.a},b9a4:function(t,e,n){},c108:function(t,e,n){"use strict";var r=n("12ef"),o=n.n(r);o.a},c60f:function(t,e,n){"use strict";var r=n("7e23"),o=n.n(r);o.a},cc3e:function(t,e,n){},d62a:function(t,e,n){},d66c:function(t,e,n){"use strict";var r=n("74eb"),o=n.n(r);o.a},de21:function(t,e,n){"use strict";var r=n("34af"),o=n.n(r);o.a},de24:function(t,e,n){"use strict";var r=n("452d"),o=n.n(r);o.a},e23a:function(t,e,n){"use strict";var r=n("823f"),o=n.n(r);o.a},e24f:function(t,e,n){},ed2f:function(t,e,n){"use strict";var r=n("b3ab"),o=n.n(r);o.a},ef49:function(t,e,n){"use strict";var r=n("8108"),o=n.n(r);o.a},f82b:function(t,e,n){"use strict";var r=n("cc3e"),o=n.n(r);o.a},f9fe:function(t,e,n){"use strict";var r=n("0ee6"),o=n.n(r);o.a},fd71:function(t,e,n){}});
//# sourceMappingURL=app.7b8f0e19.js.map